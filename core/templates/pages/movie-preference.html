{% extends "page.html" %}
{% load static %}

{% block title %} Cinematica | Movie Preferences {% endblock %}

{%block head%}<link rel="stylesheet" href="{% static 'css/components/dropdown.css' %}">
{%endblock%}

{% block main_content %}
    <h2 class="page-title">Movie Preferences</h2>
    <form class="movie-preference-form">
        <div class="search" id="search-bar">
            <i class="bi bi-search"></i>
            <input type="text" name="search" placeholder="Search for a movie" id="search-input">
            
            <!-- Filter Dropdown Menu -->
            <div class="dropdown" style="margin-right: 110px;">
                <button class="dropdown-btn">Filter</button>
                <div class="dropdown-content" id="filter-dropdown">
                    <div class="filter-option">
                        <label for="genre">Genre</label>
                        <select id="genre" name="genre">
                            <option value="">Select Genre</option>
                            <option value="action">Action</option>
                            <option value="comedy">Comedy</option>
                            <option value="drama">Drama</option>
                            <option value="horror">Horror</option>
                            <option value="sci-fi">Sci-Fi</option>
                            <option value="romance">Romance</option>
                        </select>
                    </div>

                    <div class="filter-option">
                        <label for="rating">Rating</label>
                        <select id="rating" name="rating">
                            <option value="">Select Rating</option>
                            <option value="g">G</option>
                            <option value="pg">PG</option>
                            <option value="pg-13">PG-13</option>
                            <option value="r">R</option>
                        </select>
                    </div>

                    <div class="filter-option">
                        <label for="year">Release Year</label>
                        <select id="year" name="year">
                            <option value="">Select Year</option>
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <!-- Add more years as needed -->
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="msg error" id="error-message">
            <p>Please Select at Least One Movie</p>
        </div>
        <div class="msg success" id="success-message">
            <p>Preferences Saved Successfully</p>
        </div>

        <div class="result" id="search-results">
        </div>

        <div class="selected-movies">
            <h3>Selected Movies</h3>
            <div class="list" id="selected-movies">

            </div>
        </div>

        <div class="commands">
            <div class="btn disabled" id="save-preferences">Save</div>
            <a href="{% url 'core:home' %}">Cancel</a>
        </div>
    </form> 
    <script src="{% static 'js/movie-search.js' %}"></script>
{% endblock %}
